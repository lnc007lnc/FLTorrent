# Experiment 3: Protocol-only Scaling - 50 clients
# Purpose: Measure protocol overhead without ML computation

use_gpu: False  # No GPU needed for protocol-only
device: -1
seed: 42

federate:
  mode: 'standalone'
  client_num: 50
  total_round_num: 10  # Fewer rounds for scaling test
  sample_client_num: 50
  method: FedAvg

# Minimal data config (protocol_only bypasses actual training)
data:
  root: 'data/'
  type: 'toy'
  splits: [0.8, 0.1, 0.1]

dataloader:
  batch_size: 32

model:
  type: lr
  out_channels: 1

train:
  local_update_steps: 1
  batch_or_epoch: batch
  optimizer:
    lr: 0.01
    type: SGD

criterion:
  type: MSELoss

eval:
  freq: 1
  metrics: []

# Protocol-only mode with synthetic chunks
bittorrent:
  enable: true
  timeout: 60.0
  enable_compensation: true
  protocol_only: true
  synthetic_chunk_size: 1048576  # 1MB
  synthetic_num_chunks: 16
  save_statistics: true
  verbose: true
  log_dir: 'exp_out/scaling_n50/bt_logs'

chunk:
  num_chunks: 16

outdir: 'exp_out/scaling_n50'
