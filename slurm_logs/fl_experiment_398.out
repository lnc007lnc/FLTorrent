============================================
Job ID: 398
Job Name: fl_experiment
Nodes: srv-it-node02
Node Count: 1
Tasks per Node: 1
CPUs per Task: 64
Start Time: Sun Dec 21 02:58:19 AM CET 2025
============================================
Python: /home/naicheng_li/.conda/envs/flv2/bin/python
PyTorch version: 2.7.1+cu118
CUDA available: True
GPU count: 4
Head Node: srv-it-node02 (10.0.0.2)
============================================
Single-node mode: Ray will init locally
============================================
Starting FL experiment...
ğŸ–¥ï¸  Running inside SLURM job: 398

================================================================================
ğŸš€ Ray-Powered FederatedScope V2 Script (Ultra-High Concurrency Edition)
================================================================================
ğŸ“Š Configuration information:
   â€¢ Number of clients: 50
   â€¢ Training rounds: 100
   â€¢ Dataset: celeba
   â€¢ Model: resnet18
   â€¢ Number of chunks: 16
   â€¢ Importance method: fisher
   â€¢ Monitoring duration: 999999999s

ğŸ³ Docker mode: âœ… Enabled
ğŸ“‚ Local code mount: âœ… Enabled (no rebuild needed)
ğŸŒ Network simulation: âœ… Enabled
ğŸš€ Ultra-high concurrency optimizations: âœ… Enabled
ğŸ“± Device distribution: {'smartphone_high': 1, 'smartphone_low': 0, 'raspberry_pi': 0, 'iot_device': 0, 'edge_server': 0}

ğŸ”§ High-concurrency features:
   â€¢ TCP buffer sizes: 128MB max
   â€¢ Connection tracking: 1M connections
   â€¢ File descriptors: 1M per container
   â€¢ Optimized Docker network bridge

ğŸ”— gRPC Keep-Alive settings:
   â€¢ Keep-alive time: 180s (ping interval)
   â€¢ Keep-alive timeout: 60s (ACK timeout)
   â€¢ Min ping interval: 60s
   â€¢ Connection idle timeout: 5min
   â€¢ Connection max age: 20min
   â€¢ System-level network tuning

ğŸ’¡ Output directory: ray_v2_output
ğŸ“ Log directory: logs
================================================================================

âš ï¸  Docker command not installed

ğŸ‰ Ray V2 federated learning completed!
ğŸ“„ Results summary: ray_v2_output/results_summary.yaml
ğŸ“Š Processed 50 clients in 100 rounds
ğŸ“ Log files: logs/
ğŸŒ Ray Dashboard: http://127.0.0.1:8265
ğŸ§¹ Resource cleanup completed
============================================
Job finished at Sun Dec 21 03:01:28 AM CET 2025
============================================
2025-12-21 03:01:29,401	INFO scripts.py:1364 -- Did not find any active Ray processes.
